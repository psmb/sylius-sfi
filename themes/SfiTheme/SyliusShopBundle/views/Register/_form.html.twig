<h4 class="ui dividing header">{{ 'sylius.ui.personal_information'|trans }}</h4>
<div class="two fields">
    {{ form_row(form.firstName) }}
    {{ form_row(form.lastName) }}
</div>
{{ form_row(form.email) }}
{{ form_row(form.phoneNumber) }}
<div class="field">
    <div class="ui toggle checkbox"><input type="checkbox" id="sylius_customer_registration_agreePolicy" name="sylius_customer_registration_agreePolicy" class="hidden"><label for="sylius_customer_registration_agreePolicy">Я ознакомлен с <a href="https://books.sfi.ru/policy" target="_blank">политикой обработки персональных данных</a></label></div>
</div>
<div class="field">
    <div class="ui toggle checkbox"><input type="checkbox" id="sylius_customer_registration_agreeProcessing" name="sylius_customer_registration_agreeProcessing" class="hidden"><label for="sylius_customer_registration_agreeProcessing">Я <a href="https://psmb-neos-resources.hb.bizmrg.com/target/sfi/e5e5b8d711b8754c001466af1547a4d391b86d94/%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5%20%D1%81%D0%BE%D0%B3%D0%BB%D0%B0%D1%81%D0%B8%D0%B5%20%D0%BF%D0%BE%D1%81%D0%B5%D1%82%D0%B8%D1%82%D0%B5%D0%BB%D1%8F%20%D1%81%D0%B0%D0%B8%CC%86%D1%82%D0%B0%20%D0%BD%D0%B0%20%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D1%83%20%D0%BF%D0%B5%D1%80%D1%81%D0%BE%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85.pdf" target="_blank">согласен на обработку персональных данных</a></label></div>
</div>
{{ form_row(form.subscribedToNewsletter) }}
<h4 class="ui dividing header">{{ 'sylius.ui.account_credentials'|trans }}</h4>
{{ form_row(form.user.plainPassword.first) }}
{{ form_row(form.user.plainPassword.second) }}



{% block javascripts %}
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const submitButton = document.querySelector('form[name="sylius_customer_registration"] button[type="submit"]');
            const privacyCheckbox = document.getElementById('sylius_customer_registration_agreePolicy');
            const dataProcessingCheckbox = document.getElementById('sylius_customer_registration_agreeProcessing');

            submitButton.addEventListener('click', function (event) {
                if (!privacyCheckbox.checked || !dataProcessingCheckbox.checked) {
                    event.preventDefault();
                    event.stopPropagation();
                    alert('Пожалуйста, подтвердите свое согласие с политикой обработки персональных данных и согласием на обработку персональных данных.');
                }
            }, true);

        });
    </script>
{% endblock %}